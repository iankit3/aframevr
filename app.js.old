import React, { Component } from 'react';
import { connect } from 'react-redux';
import { addTodo } from './actions';
// import 'aframe';
// import {Entity, Scene} from 'aframe-react';

/**
 * 
 * <h2> App </h2>
            <ul>
                {todos.map((elem, i) => {
                    return (
                        <li key={i}>{elem.name ? elem.name : elem}</li>
                    )
                })}
            </ul>
            <button onClick={() => { dispatch(addTodo("a text")) }}>Click</button>
            https://aframe.io/aframe/examples/boilerplate/panorama/puydesancy.jpg
 */
let App = ({ dispatch, list }) => {
    return (
        <div>
    <a-scene>
      <a-assets>
         {list.map( (elem,i) => {
            return(
                <img id={elem.name} 
                     crossorigin="anonymous" 
                     src={elem.pano} />        
            )
         })}
        <img id="city" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/city.jpg" />
        <img id="city-thumb" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/thumb-city.jpg" />
        <img id="cubes-thumb" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/thumb-cubes.jpg" />
        <img id="sechelt-thumb" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/thumb-sechelt.jpg" />
        <audio id="click-sound" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>
        <img id="cubes" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/cubes.jpg" />
        <img id="sechelt" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg" />


      </a-assets>

      <a-sky id="image-360" radius="10" src={'#city'}></a-sky>


      <a-entity id="links" layout="type: line; margin: 1.5" position="0 -1 -4">
        <a-entity template="src: #link" data-src="#Paris" data-thumb="#cubes-thumb"></a-entity>
        <a-entity template="src: #link" data-src="#city" data-thumb="#city-thumb"></a-entity>
        <a-entity template="src: #link" data-src="#sechelt" data-thumb="#sechelt-thumb"></a-entity>
      </a-entity>


      <a-entity camera look-controls>
        <a-cursor id="cursor"
          animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
          animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
          event-set__1="_event: mouseenter; color: springgreen"
          event-set__2="_event: mouseleave; color: yellow"
          fuse="true"
          raycaster="objects: .link"></a-cursor>
      </a-entity>
    </a-scene>

        </div>
    );
}

function mapStateToProps(state) {
    return { list: state }
}

export default connect(mapStateToProps)(App)